<div
  class="modal-backdrop"
  (click)="close()"
  (dragover)="$event.preventDefault()"
  (drop)="$event.preventDefault()"
>
  <section class="modal-card" (click)="$event.stopPropagation()">
    <header class="modal-header">
      <h2>Importar PDF</h2>
    </header>

    <input
      #fileInput
      class="file-input"
      type="file"
      accept="application/pdf,.pdf"
      (change)="onFileChange($event)"
    />

    <div
      class="dropzone"
      [class.dragging]="isDragging"
      (click)="onDropzoneClick(fileInput)"
      (dragenter)="onDragEnter($event)"
      (dragover)="onDragOver($event)"
      (dragleave)="onDragLeave($event)"
      (drop)="onDrop($event)"
    >
    @if (selectedFileName) {
      <span class="file-icon">ðŸ“„</span>
      <span class="file-name">Arquivo: <strong>{{ selectedFileName }}</strong></span>
    }

    @else {
      <span class="dropzone-title">Arraste um PDF aqui</span>
      <span class="dropzone-subtitle">ou clique para selecionar do computador</span>
    }

    </div>

    @if (errorMessage) {
      <p class="error">{{ errorMessage }}</p>
    }

    <footer class="modal-actions">
      <button type="button" class="secondary" (click)="close()">Cancelar</button>
      <button type="button" class="primary" [disabled]="!selectedFileName" (click)="import()">Enviar</button>
    </footer>
  </section>
</div>
